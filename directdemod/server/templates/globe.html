<!DOCTYPE HTML>
<html>
  <head>

    <!-- WebGLEarth -->
    <script src="{{ url_for('static', filename='scripts/api.js') }}"></script>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous">
    </script>

    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"
            integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
            crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  </head>
  <script>
      function initialize() {
        var earth = new WE.map('earth_div');
        var osm = WE.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(earth);

        var data = JSON.parse($("#json-data").text());

        var counter = parseInt(data["counter"] - 1, 10);

        var layer = WE.tileLayer('tmsA/tms' + data["" + counter] + '/{z}/{x}/{y}.png', {tms: true, opacity: 0.7});

        layer.addTo(earth);
      }
    </script>
  <body onload="initialize()">
  <div id="json-data" style="display: none;">{{ conf }}</div>
    <div id="earth_div"></div>
  </body>
</html>
